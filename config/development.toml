# ğŸš€ é‡åŒ–äº¤æ˜“å¹³å° - å¼€å‘ç¯å¢ƒé…ç½®

[server]
host = "0.0.0.0"
port = 8081

[exchanges.binance]
enabled = true
symbols = ["BTCUSDT", "ETHUSDT", "BNBUSDT"]        # å¼€å‘æ—¶ç›‘æ§å°‘é‡äº¤æ˜“å¯¹
websocket_url = "wss://stream.binance.com:9443/ws"
rest_api_url = "https://api.binance.com"
rate_limit = 1200                                  # æ¯åˆ†é’Ÿè¯·æ±‚æ•°
reconnect_interval = 5
max_reconnect_attempts = 10

[storage.clickhouse]
url = "http://localhost:8123"
database = "market_data"
username = "default"
password = ""
connection_timeout = 30
query_timeout = 60
max_connections = 10
batch_size = 1000             # å¼€å‘ç¯å¢ƒå°æ‰¹é‡
compression = true

[storage.redis]
url = "redis://localhost:6379"
password = ""
database = 0
connection_timeout = 30
max_connections = 20
ttl_seconds = 3600             # 1å°æ—¶ç¼“å­˜
key_prefix = "market_data:"

[storage.kafka]
brokers = ["localhost:9092"]
topic_prefix = "market_data"
batch_size = 1000            # å¼€å‘ç¯å¢ƒå°æ‰¹é‡
linger_ms = 5
compression_type = "snappy"
acks = "1"
retries = 3

[data_processing]
batch_size = 100                  # å¼€å‘ç¯å¢ƒå°æ‰¹é‡ä¾¿äºè°ƒè¯•
flush_interval = 5                # 5ç§’åˆ·æ–°
max_queue_size = 10000
enable_data_validation = true
enable_duplicate_detection = true
data_retention_days = 7           # å¼€å‘ç¯å¢ƒä¿ç•™7å¤©
max_gap_seconds = 60              # 1åˆ†é’Ÿé—´éš™æ£€æµ‹

[websocket]
max_connections = 1000               # å¼€å‘ç¯å¢ƒé™åˆ¶è¿æ¥æ•°
heartbeat_interval = 30
message_buffer_size = 1000
compression_enabled = true
rate_limit.enabled = true
rate_limit.messages_per_second = 100
rate_limit.burst_size = 200

[monitoring]
metrics_enabled = true
health_check_interval = 10                            # 10ç§’å¥åº·æ£€æŸ¥
alert_thresholds.max_data_delay_ms = 5000
alert_thresholds.min_connection_uptime_percent = 90.0
alert_thresholds.max_error_rate_percent = 10.0
alert_thresholds.max_memory_usage_mb = 512

# æ•°æ®è¿ç»­æ€§é…ç½®
[continuity]
enable_gap_detection = true
enable_auto_repair = true
preload_cache_on_startup = true
save_state_interval = 30         # 30ç§’ä¿å­˜çŠ¶æ€
consistency_check_interval = 300 # 5åˆ†é’Ÿä¸€è‡´æ€§æ£€æŸ¥
max_gap_fill_hours = 24          # æœ€å¤šå¡«è¡¥24å°æ—¶æ•°æ®

# å¼€å‘ç¯å¢ƒç‰¹å®šé…ç½®
[development]
log_level = "debug"
enable_debug_endpoints = true
mock_exchange_data = false    # æ˜¯å¦ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
fast_startup = true           # å¿«é€Ÿå¯åŠ¨æ¨¡å¼
skip_historical_data = false  # æ˜¯å¦è·³è¿‡å†å²æ•°æ®åŠ è½½
